# =============================================================================
# RESULTS ROOFING - ENVIRONMENT VARIABLES
# =============================================================================
#
# Copy this file to .env.local and fill in your values:
#   cp .env.example .env.local
#
# NEVER commit .env.local to version control!
#
# Legend:
#   [REQUIRED]  - Must be set for the app to function
#   [OPTIONAL]  - Can be omitted; feature will be disabled
#   [WEBHOOK]   - Needed for real-time sync; can test without initially
#
# =============================================================================

# =============================================================================
# APPLICATION
# =============================================================================

# [REQUIRED] Environment mode
NODE_ENV=development

# [REQUIRED] Base URL of the application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# DATABASE (Neon PostgreSQL)
# https://console.neon.tech
# =============================================================================

# [REQUIRED] Primary connection string (pooled for serverless)
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# [REQUIRED] Unpooled connection for migrations
DATABASE_URL_UNPOOLED=postgresql://user:password@host/database?sslmode=require

# =============================================================================
# AUTHENTICATION (Clerk)
# https://dashboard.clerk.com
# =============================================================================

# [REQUIRED] Public key for client-side auth
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxx

# [REQUIRED] Secret key for server-side auth
CLERK_SECRET_KEY=sk_test_xxx

# [REQUIRED] Auth URLs - customize if using different routes
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/portal
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/portal

# [WEBHOOK] For syncing user events (account creation, etc.)
CLERK_WEBHOOK_SECRET=whsec_xxx

# =============================================================================
# PAYMENTS (Stripe)
# https://dashboard.stripe.com/apikeys
# =============================================================================

# [REQUIRED] Public key for Stripe Elements
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# [REQUIRED] Secret key for server-side Stripe operations
STRIPE_SECRET_KEY=sk_test_xxx

# [WEBHOOK] For payment confirmations and refunds
# Create at: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxx

# =============================================================================
# MEASUREMENT (GAF QuickMeasure)
# https://www.gaf.com/en-us/resources/business-services/quickmeasure
# Contact GAF for API access - confirm API availability before integration
# =============================================================================

# [REQUIRED] API key for aerial roof measurements
GAF_QUICKMEASURE_API_KEY=xxx

# [WEBHOOK] For measurement completion notifications
GAF_QUICKMEASURE_WEBHOOK_SECRET=xxx

# [OPTIONAL] Base URL if using staging environment
GAF_QUICKMEASURE_API_URL=https://api.gaf.com/quickmeasure/v1

# =============================================================================
# E-SIGNATURE (Documenso)
# https://documenso.com or self-hosted
# =============================================================================

# [REQUIRED] API key for document creation and signing
DOCUMENSO_API_KEY=xxx

# [REQUIRED] Base URL of your Documenso instance
DOCUMENSO_API_URL=https://app.documenso.com/api/v1

# [WEBHOOK] For signature completion notifications
DOCUMENSO_WEBHOOK_SECRET=xxx

# =============================================================================
# BOOKING (Cal.com)
# https://cal.com or self-hosted
# =============================================================================

# [REQUIRED] API key for scheduling operations
CALCOM_API_KEY=xxx

# [REQUIRED] Event type ID for roof installation appointments
# Find at: Cal.com Dashboard > Event Types > Your Event > URL slug ID
CALCOM_EVENT_TYPE_ID=xxx

# [WEBHOOK] For booking/reschedule/cancellation notifications
CALCOM_WEBHOOK_SECRET=xxx

# [OPTIONAL] Base URL if self-hosting Cal.com
CALCOM_API_URL=https://api.cal.com

# =============================================================================
# FINANCING - PRIMARY (Enhancify)
# https://www.enhancify.com/contractor-partnership
# Marketplace model - connects customers to multiple lenders
# =============================================================================

# [REQUIRED] Partner/Contractor ID from Enhancify dashboard
ENHANCIFY_PARTNER_ID=xxx

# [REQUIRED] API key for financing pre-qualification (if available)
ENHANCIFY_API_KEY=xxx

# [OPTIONAL] Your co-branded financing page URL
ENHANCIFY_FINANCING_URL=https://www.enhancify.com/apply/your-company

# [WEBHOOK] For pre-qual status updates (confirm availability with Enhancify)
ENHANCIFY_WEBHOOK_SECRET=xxx

# =============================================================================
# FINANCING - SECONDARY (Hearth) - For projects > $25K
# https://hearth.com - Optional, higher limits
# =============================================================================

# [OPTIONAL] API key for high-value financing
HEARTH_API_KEY=xxx

# [WEBHOOK] For application status updates
HEARTH_WEBHOOK_SECRET=xxx

# =============================================================================
# CRM (JobNimbus)
# https://app.jobnimbus.com/settings/api
# =============================================================================

# [REQUIRED] API key for lead/job sync
JOBNIMBUS_API_KEY=xxx

# [OPTIONAL] Custom field IDs for data mapping
# JOBNIMBUS_MOTIVATION_FIELD_ID=xxx
# JOBNIMBUS_SOURCE_FIELD_ID=xxx

# =============================================================================
# SMS & EMAIL NOTIFICATIONS (GoHighLevel)
# https://www.gohighlevel.com - Developer Portal
# Replaces SignalWire (SMS) and Resend (Email) with unified platform
# API Docs: https://highlevel.stoplight.io/
# =============================================================================

# [REQUIRED] Your GHL Location/Sub-account ID
GHL_LOCATION_ID=xxx

# [REQUIRED] API key for authentication
GHL_API_KEY=xxx

# [OPTIONAL] OAuth credentials for expanded access
GHL_CLIENT_ID=xxx
GHL_CLIENT_SECRET=xxx

# [WEBHOOK] For inbound messages and status updates
GHL_WEBHOOK_SECRET=xxx

# [REQUIRED] Phone number ID for sending SMS (configured in GHL)
GHL_PHONE_NUMBER_ID=xxx

# [OPTIONAL] Default email sender (configured in GHL)
GHL_DEFAULT_EMAIL_SENDER=noreply@resultsroofing.com

# =============================================================================
# EMAIL (Resend) - DEPRECATED: Migrating to GoHighLevel
# https://resend.com/api-keys
# Keep configured as fallback during migration
# =============================================================================

# [OPTIONAL] API key for transactional emails (fallback)
RESEND_API_KEY=re_xxx

# [OPTIONAL] Verified sender email address
RESEND_FROM_EMAIL=noreply@resultsroofing.com

# [OPTIONAL] Reply-to address for customer responses
RESEND_REPLY_TO_EMAIL=support@resultsroofing.com

# [OPTIONAL] Email address to receive feedback notifications
# When users submit feedback via the widget, you'll get an email
FEEDBACK_NOTIFICATION_EMAIL=owner@example.com

# =============================================================================
# ADDRESS AUTOCOMPLETE (Google Places)
# https://console.cloud.google.com/apis/credentials
# =============================================================================

# [REQUIRED] API key for address autocomplete
# Enable: Places API, Geocoding API
# Restrict: HTTP referrers for your domains
NEXT_PUBLIC_GOOGLE_PLACES_API_KEY=xxx

# [OPTIONAL] Disable Google Places and use manual entry only
# Set to 'true' if you don't have Google Places API set up
# NEXT_PUBLIC_DISABLE_GOOGLE_PLACES=true

# =============================================================================
# RATE LIMITING (Upstash Redis) - Optional
# https://console.upstash.com
# =============================================================================

# [OPTIONAL] REST URL for rate limiting
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io

# [OPTIONAL] REST token for authentication
UPSTASH_REDIS_REST_TOKEN=xxx

# =============================================================================
# ANALYTICS & MONITORING - Optional
# =============================================================================

# [OPTIONAL] Vercel Analytics
# Automatically enabled on Vercel deployments
# NEXT_PUBLIC_VERCEL_ANALYTICS_ID=xxx

# [OPTIONAL] Sentry for error tracking
# https://sentry.io - Create a Next.js project
#
# DSN (Data Source Name) - Required to enable Sentry
# Found at: Settings > Projects > [Your Project] > Client Keys (DSN)
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Auth token for source map uploads (improves error stack traces)
# Create at: Settings > Auth Tokens
SENTRY_AUTH_TOKEN=sntrys_xxx

# Organization and project slugs (for source map uploads)
SENTRY_ORG=your-org-slug
SENTRY_PROJECT=results-roofing

# =============================================================================
# FEATURE FLAGS - Optional
# =============================================================================

# [OPTIONAL] Enable/disable features for gradual rollout
# NEXT_PUBLIC_ENABLE_FINANCING=true
# NEXT_PUBLIC_ENABLE_SMS_NOTIFICATIONS=true
# NEXT_PUBLIC_ENABLE_PORTAL=true

# =============================================================================
# BUSINESS CONFIGURATION
# =============================================================================

# [OPTIONAL] Override default deposit calculation
# Default: 10% with min $500, max $2500
# DEPOSIT_PERCENTAGE=0.10
# DEPOSIT_MIN=500
# DEPOSIT_MAX=2500

# [OPTIONAL] Quote expiration in days
# QUOTE_EXPIRATION_DAYS=30

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# [DEV ONLY] Bypass Clerk authentication entirely
# Set both for server and client-side bypass detection
# BYPASS_CLERK=true
# NEXT_PUBLIC_BYPASS_CLERK=true

# [DEV ONLY] Skip email sending in development
# SKIP_EMAIL_SENDING=true

# [DEV ONLY] Skip SMS sending in development
# SKIP_SMS_SENDING=true

# [DEV ONLY] Mock external API responses
# MOCK_GAF_QUICKMEASURE_API=true
# MOCK_ENHANCIFY_API=true
# MOCK_GHL_API=true

# =============================================================================
# ADMIN DASHBOARD
# =============================================================================

# [REQUIRED] Admin password for /admin access
ADMIN_PASSWORD=your-strong-admin-password

# [OPTIONAL] Session token for admin (auto-generated if not set)
# ADMIN_SESSION_TOKEN=xxx

# =============================================================================
# OPERATIONS DASHBOARD
# =============================================================================

# [REQUIRED] Ops password for /ops access (separate from admin)
OPS_PASSWORD=your-strong-ops-password

# [OPTIONAL] Session token for ops (auto-generated if not set)
# OPS_SESSION_TOKEN=xxx
