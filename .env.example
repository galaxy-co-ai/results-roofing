# =============================================================================
# RESULTS ROOFING - ENVIRONMENT VARIABLES
# =============================================================================
#
# Copy this file to .env.local and fill in your values:
#   cp .env.example .env.local
#
# NEVER commit .env.local to version control!
#
# Legend:
#   [REQUIRED]  - Must be set for the app to function
#   [OPTIONAL]  - Can be omitted; feature will be disabled
#   [WEBHOOK]   - Needed for real-time sync; can test without initially
#
# =============================================================================

# =============================================================================
# APPLICATION
# =============================================================================

# [REQUIRED] Environment mode
NODE_ENV=development

# [REQUIRED] Base URL of the application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# DATABASE (Neon PostgreSQL)
# https://console.neon.tech
# =============================================================================

# [REQUIRED] Primary connection string (pooled for serverless)
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# [REQUIRED] Unpooled connection for migrations
DATABASE_URL_UNPOOLED=postgresql://user:password@host/database?sslmode=require

# =============================================================================
# AUTHENTICATION (Clerk)
# https://dashboard.clerk.com
# =============================================================================

# [REQUIRED] Public key for client-side auth
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxx

# [REQUIRED] Secret key for server-side auth
CLERK_SECRET_KEY=sk_test_xxx

# [REQUIRED] Auth URLs - customize if using different routes
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/portal
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/portal

# [WEBHOOK] For syncing user events (account creation, etc.)
CLERK_WEBHOOK_SECRET=whsec_xxx

# =============================================================================
# PAYMENTS (Stripe)
# https://dashboard.stripe.com/apikeys
# =============================================================================

# [REQUIRED] Public key for Stripe Elements
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# [REQUIRED] Secret key for server-side Stripe operations
STRIPE_SECRET_KEY=sk_test_xxx

# [WEBHOOK] For payment confirmations and refunds
# Create at: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_xxx

# =============================================================================
# MEASUREMENT (Roofr)
# https://roofr.com - Contact for API access
# =============================================================================

# [REQUIRED] API key for satellite roof measurements
ROOFR_API_KEY=xxx

# [WEBHOOK] For measurement completion notifications
ROOFR_WEBHOOK_SECRET=xxx

# [OPTIONAL] Base URL if using staging environment
ROOFR_API_URL=https://api.roofr.com

# =============================================================================
# E-SIGNATURE (Documenso)
# https://documenso.com or self-hosted
# =============================================================================

# [REQUIRED] API key for document creation and signing
DOCUMENSO_API_KEY=xxx

# [REQUIRED] Base URL of your Documenso instance
DOCUMENSO_API_URL=https://app.documenso.com/api/v1

# [WEBHOOK] For signature completion notifications
DOCUMENSO_WEBHOOK_SECRET=xxx

# =============================================================================
# BOOKING (Cal.com)
# https://cal.com or self-hosted
# =============================================================================

# [REQUIRED] API key for scheduling operations
CALCOM_API_KEY=xxx

# [REQUIRED] Event type ID for roof installation appointments
# Find at: Cal.com Dashboard > Event Types > Your Event > URL slug ID
CALCOM_EVENT_TYPE_ID=xxx

# [WEBHOOK] For booking/reschedule/cancellation notifications
CALCOM_WEBHOOK_SECRET=xxx

# [OPTIONAL] Base URL if self-hosting Cal.com
CALCOM_API_URL=https://api.cal.com

# =============================================================================
# FINANCING - PRIMARY (Wisetack)
# https://wisetack.com - Partner portal
# =============================================================================

# [REQUIRED] API key for financing pre-qualification
WISETACK_API_KEY=xxx

# [REQUIRED] Your merchant ID from Wisetack dashboard
WISETACK_MERCHANT_ID=xxx

# [WEBHOOK] For pre-qual status updates
WISETACK_WEBHOOK_SECRET=xxx

# [OPTIONAL] Sandbox mode for testing
WISETACK_ENVIRONMENT=sandbox

# =============================================================================
# FINANCING - SECONDARY (Hearth) - For projects > $25K
# https://hearth.com - Optional, higher limits
# =============================================================================

# [OPTIONAL] API key for high-value financing
HEARTH_API_KEY=xxx

# [WEBHOOK] For application status updates
HEARTH_WEBHOOK_SECRET=xxx

# =============================================================================
# CRM (JobNimbus)
# https://app.jobnimbus.com/settings/api
# =============================================================================

# [REQUIRED] API key for lead/job sync
JOBNIMBUS_API_KEY=xxx

# [OPTIONAL] Custom field IDs for data mapping
# JOBNIMBUS_MOTIVATION_FIELD_ID=xxx
# JOBNIMBUS_SOURCE_FIELD_ID=xxx

# =============================================================================
# SMS NOTIFICATIONS (SignalWire)
# https://signalwire.com - Dashboard > API
# =============================================================================

# [REQUIRED] Project ID from SignalWire dashboard
SIGNALWIRE_PROJECT_ID=xxx

# [REQUIRED] API token for authentication
SIGNALWIRE_API_TOKEN=xxx

# [REQUIRED] Your SignalWire space URL
SIGNALWIRE_SPACE_URL=your-space.signalwire.com

# [REQUIRED] Phone number for sending SMS (must be purchased in SignalWire)
SIGNALWIRE_PHONE_NUMBER=+1xxxxxxxxxx

# =============================================================================
# EMAIL (Resend)
# https://resend.com/api-keys
# =============================================================================

# [REQUIRED] API key for transactional emails
RESEND_API_KEY=re_xxx

# [REQUIRED] Verified sender email address
# Must be verified at: https://resend.com/domains
RESEND_FROM_EMAIL=noreply@resultsroofing.com

# [OPTIONAL] Reply-to address for customer responses
RESEND_REPLY_TO_EMAIL=support@resultsroofing.com

# =============================================================================
# ADDRESS AUTOCOMPLETE (Google Places)
# https://console.cloud.google.com/apis/credentials
# =============================================================================

# [REQUIRED] API key for address autocomplete
# Enable: Places API, Geocoding API
# Restrict: HTTP referrers for your domains
NEXT_PUBLIC_GOOGLE_PLACES_API_KEY=xxx

# [OPTIONAL] Disable Google Places and use manual entry only
# Set to 'true' if you don't have Google Places API set up
# NEXT_PUBLIC_DISABLE_GOOGLE_PLACES=true

# =============================================================================
# RATE LIMITING (Upstash Redis) - Optional
# https://console.upstash.com
# =============================================================================

# [OPTIONAL] REST URL for rate limiting
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io

# [OPTIONAL] REST token for authentication
UPSTASH_REDIS_REST_TOKEN=xxx

# =============================================================================
# ANALYTICS & MONITORING - Optional
# =============================================================================

# [OPTIONAL] Vercel Analytics
# Automatically enabled on Vercel deployments
# NEXT_PUBLIC_VERCEL_ANALYTICS_ID=xxx

# [OPTIONAL] Sentry for error tracking
# https://sentry.io
# SENTRY_DSN=https://xxx@sentry.io/xxx
# SENTRY_AUTH_TOKEN=xxx

# =============================================================================
# FEATURE FLAGS - Optional
# =============================================================================

# [OPTIONAL] Enable/disable features for gradual rollout
# NEXT_PUBLIC_ENABLE_FINANCING=true
# NEXT_PUBLIC_ENABLE_SMS_NOTIFICATIONS=true
# NEXT_PUBLIC_ENABLE_PORTAL=true

# =============================================================================
# BUSINESS CONFIGURATION
# =============================================================================

# [OPTIONAL] Override default deposit calculation
# Default: 10% with min $500, max $2500
# DEPOSIT_PERCENTAGE=0.10
# DEPOSIT_MIN=500
# DEPOSIT_MAX=2500

# [OPTIONAL] Quote expiration in days
# QUOTE_EXPIRATION_DAYS=30

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# [DEV ONLY] Bypass Clerk authentication entirely
# Set both for server and client-side bypass detection
# BYPASS_CLERK=true
# NEXT_PUBLIC_BYPASS_CLERK=true

# [DEV ONLY] Skip email sending in development
# SKIP_EMAIL_SENDING=true

# [DEV ONLY] Skip SMS sending in development
# SKIP_SMS_SENDING=true

# [DEV ONLY] Mock external API responses
# MOCK_ROOFR_API=true
# MOCK_WISETACK_API=true
